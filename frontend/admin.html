<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ - –ß–∞—Ç –°–∏—Å—Ç–µ–º–∞</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/light-theme.css" id="theme-style">
</head>
<body>
    <div class="app-container">
        <header class="app-header">
            <div class="container">
                <h1 class="logo">üõ†Ô∏è –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h1>
                <div class="header-actions">
                    <div class="theme-selector">
                        <button class="btn btn-icon" id="themeToggle">üé®</button>
                        <div class="theme-dropdown" id="themeDropdown">
                            <div class="theme-option" data-theme="light">üåû –°–≤–µ—Ç–ª–∞—è</div>
                            <div class="theme-option" data-theme="dark">üåô –¢–µ–º–Ω–∞—è</div>
                            <div class="theme-option" data-theme="blue">üîµ –°–∏–Ω—è—è</div>
                            <div class="theme-option" data-theme="green">üü¢ –ó–µ–ª–µ–Ω–∞—è</div>
                            <div class="theme-option" data-theme="purple">üü£ –§–∏–æ–ª–µ—Ç–æ–≤–∞—è</div>
                            <div class="theme-option" data-theme="orange">üü† –û—Ä–∞–Ω–∂–µ–≤–∞—è</div>
                        </div>
                    </div>
                    <button class="btn btn-secondary" onclick="window.location.href='/chat'">üí¨ –ö —á–∞—Ç—É</button>
                    <button class="btn btn-secondary" onclick="window.location.href='/settings'">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                </div>
            </div>
        </header>

        <main class="admin-main">
            <div class="container">
                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <section class="stats-section">
                    <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã</h2>
                    <div class="stats-grid" id="statsGrid">
                        <div class="stat-card">
                            <div class="stat-icon">üë•</div>
                            <div class="stat-info">
                                <div class="stat-value" id="totalUsers">0</div>
                                <div class="stat-label">–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üëÇ</div>
                            <div class="stat-info">
                                <div class="stat-value" id="totalListeners">0</div>
                                <div class="stat-label">–°–ª—É—à–∞—Ç–µ–ª–µ–π</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üí¨</div>
                            <div class="stat-info">
                                <div class="stat-value" id="totalChats">0</div>
                                <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö —á–∞—Ç–æ–≤</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üì®</div>
                            <div class="stat-info">
                                <div class="stat-value" id="totalMessages">0</div>
                                <div class="stat-label">–°–æ–æ–±—â–µ–Ω–∏–π</div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ -->
                <section class="management-section">
                    <div class="section-header">
                        <h2>üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</h2>
                        <button class="btn btn-primary" id="refreshUsers">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
                    </div>
                    
                    <div class="search-box">
                        <input type="text" id="userSearch" placeholder="–ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...">
                    </div>
                    
                    <div class="table-container">
                        <table class="users-table">
                            <thead>
                                <tr>
                                    <th>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</th>
                                    <th>–†–æ–ª—å</th>
                                    <th>–°—Ç–∞—Ç—É—Å</th>
                                    <th>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</th>
                                    <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody">
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- –ü—Ä–æ—Å–º–æ—Ç—Ä —á–∞—Ç–æ–≤ -->
                <section class="chats-section">
                    <div class="section-header">
                        <h2>üí¨ –í—Å–µ —á–∞—Ç—ã —Å–∏—Å—Ç–µ–º—ã</h2>
                        <button class="btn btn-primary" id="refreshChats">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
                    </div>
                    
                    <div class="chats-grid" id="allChatsGrid"></div>
                </section>

                <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
                <section class="actions-section">
                    <h2>‚ö° –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
                    <div class="actions-grid">
                        <button class="action-btn" data-action="join-chat">
                            <span class="action-icon">üí¨</span>
                            <span>–í–æ–π—Ç–∏ –≤ —á–∞—Ç –ø–æ–º–æ—â–∏</span>
                        </button>
                        <button class="action-btn" data-action="send-notification">
                            <span class="action-icon">üì¢</span>
                            <span>–û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</span>
                        </button>
                        <button class="action-btn" data-action="view-logs">
                            <span class="action-icon">üìã</span>
                            <span>–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤</span>
                        </button>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div id="userActionsModal" class="modal hidden">
        <div class="modal-content">
            <h3>–î–µ–π—Å—Ç–≤–∏—è —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º</h3>
            <div class="user-info-card" id="modalUserInfo"></div>
            
            <div class="action-buttons">
                <button class="btn btn-warning" data-action="warn">‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ</button>
                <button class="btn btn-secondary" data-action="mute">üîá –ú—É—Ç</button>
                <button class="btn btn-danger" data-action="block">üö´ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞</button>
                <button class="btn btn-info" data-action="view-chats">üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä —á–∞—Ç–æ–≤</button>
            </div>
            
            <div class="modal-actions">
                <button class="btn btn-secondary" id="closeModal">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <div id="actionReasonModal" class="modal hidden">
        <div class="modal-content">
            <h3 id="actionTitle"></h3>
            <form id="actionForm">
                <div class="form-group">
                    <label for="actionReason">–ü—Ä–∏—á–∏–Ω–∞:</label>
                    <textarea id="actionReason" rows="3" required placeholder="–£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –¥–µ–π—Å—Ç–≤–∏—è..."></textarea>
                </div>
                <div id="muteDurationGroup" class="form-group hidden">
                    <label for="muteDuration">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω—É—Ç—ã):</label>
                    <input type="number" id="muteDuration" value="60" min="1" max="10080">
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" id="cancelAction">–û—Ç–º–µ–Ω–∞</button>
                    <button type="submit" class="btn btn-primary">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                </div>
            </form>
        </div>
    </div>

    <div id="chatMessagesModal" class="modal hidden">
        <div class="modal-content large">
            <h3>–°–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞</h3>
            <div class="messages-list-admin" id="modalMessagesList"></div>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="closeMessagesModal">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <script src="js/admin.js"></script>
</body>
</html>
