<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ß–∞—Ç –°–∏—Å—Ç–µ–º–∞</title>
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/light-theme.css" id="theme-style">
</head>
<body>
    <div class="chat-container">
        <!-- –°–∞–π–¥–±–∞—Ä -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h2>–ß–∞—Ç –°–∏—Å—Ç–µ–º–∞</h2>
                <div class="user-info">
                    <img id="userAvatar" src="" alt="Avatar" class="avatar">
                    <span id="userName"></span>
                    <div class="user-role" id="userRole"></div>
                </div>
            </div>

            <div class="sidebar-content">
                <!-- –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π -->
                <div id="userSection" class="section hidden">
                    <h3>–°–ª—É—à–∞—Ç–µ–ª–∏</h3>
                    <div id="listenersList" class="list"></div>
                </div>

                <!-- –î–ª—è —Å–ª—É—à–∞—Ç–µ–ª–µ–π -->
                <div id="listenerSection" class="section hidden">
                    <h3>–ê–∫—Ç–∏–≤–Ω—ã–µ —á–∞—Ç—ã</h3>
                    <div id="activeChats" class="list"></div>
                    
                    <h3>–ú–æ–∏ –æ—Ç–∑—ã–≤—ã</h3>
                    <div id="reviewsList" class="list"></div>
                </div>

                <!-- –û–±—â–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
                <div class="section">
                    <h3>–ú–æ–∏ —á–∞—Ç—ã</h3>
                    <div id="chatsList" class="list"></div>
                </div>
            </div>

            <div class="sidebar-footer">
                <button id="settingsBtn" class="btn btn-secondary">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                <button id="logoutBtn" class="btn btn-danger">–í—ã–π—Ç–∏</button>
            </div>
        </div>

        <!-- –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å —á–∞—Ç–∞ -->
        <div class="chat-area">
            <div class="chat-header">
                <h3 id="chatWith"></h3>
                <div class="chat-actions">
                    <button id="leaveChatBtn" class="btn btn-secondary hidden">–ü–æ–∫–∏–Ω—É—Ç—å —á–∞—Ç</button>
                    <button id="addReviewBtn" class="btn btn-primary hidden">–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
                </div>
            </div>

            <div class="messages-container">
                <div id="messagesList" class="messages-list"></div>
            </div>

            <div class="message-input-container">
                <div class="input-actions">
                    <button id="mediaBtn" class="btn btn-icon" title="–ú–µ–¥–∏–∞">
                        üìé
                    </button>
                    <button id="stickerBtn" class="btn btn-icon" title="–°—Ç–∏–∫–µ—Ä—ã">
                        üòä
                    </button>
                </div>
                <input type="text" id="messageInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." disabled>
                <button id="sendBtn" class="btn btn-primary" disabled>–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
                
                <input type="file" id="mediaInput" accept="image/*,video/*,audio/*" style="display: none;">
                <input type="file" id="stickerInput" accept="image/*" style="display: none;">
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
        <div id="reviewModal" class="modal hidden">
            <div class="modal-content">
                <h3>–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</h3>
                <form id="reviewForm">
                    <div class="form-group">
                        <label>–û—Ü–µ–Ω–∫–∞:</label>
                        <div class="rating-stars">
                            <span class="star" data-rating="1">‚òÖ</span>
                            <span class="star" data-rating="2">‚òÖ</span>
                            <span class="star" data-rating="3">‚òÖ</span>
                            <span class="star" data-rating="4">‚òÖ</span>
                            <span class="star" data-rating="5">‚òÖ</span>
                        </div>
                        <input type="hidden" id="reviewRating" value="5">
                    </div>
                    <div class="form-group">
                        <label for="reviewComment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:</label>
                        <textarea id="reviewComment" rows="4"></textarea>
                    </div>
                    <div class="modal-actions">
                        <button type="button" class="btn btn-secondary" id="cancelReview">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn btn-primary">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="js/app.js"></script>
    <script src="js/socket-client.js"></script>
</body>
</html>
